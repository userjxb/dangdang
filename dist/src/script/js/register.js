"use strict";var _createClass=function(){function i(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,t){return r&&i(e.prototype,r),t&&i(e,t),e}}();function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}jQuery(".footer").load("footer.html"),function(e){function r(){_classCallCheck(this,r),this.regForm=e("#reg-form"),this.phpUrl="http://10.31.163.63/dangdang/php/"}(new(_createClass(r,[{key:"init",value:function(){e.validator.addMethod("isMobile",function(e,r){var t=e.length;return this.optional(r)||11==t&&/^1[35789]\d{9}$/.test(e)},"手机号格式错误"),e.validator.addMethod("isAgreeRule",function(e,r){return r.checked},"请阅读并同意用户协议后提交"),this.regForm.validate({rules:{tel:{required:!0,isMobile:!0,remote:{type:"post",url:this.phpUrl+"register.php"}},username:{required:!0,minlength:2,maxlength:20,remote:{type:"post",url:this.phpUrl+"register.php"}},email:{required:!0,email:!0,remote:{type:"post",url:this.phpUrl+"register.php"}},password:{required:!0,minlength:6,maxlength:16},repass:{required:!0,equalTo:"#password"},agreeRule:{isAgreeRule:!0}},messages:{tel:{required:"手机号不能为空",digits:"手机号格式错误",minlength:"手机号格式错误",maxlength:"手机号格式错误",remote:"手机号已被注册"},username:{required:"用户名不能为空",minlength:"用户名不能小于2个字符",maxlength:"用户名不能大于20个字符",remote:"用户名已被注册"},email:{required:"邮箱不能为空",email:"邮箱格式错误",remote:"邮箱已被注册"},password:{required:"密码不能为空",minlength:"密码不能小于6位"},repass:{required:"密码重复不能为空",equalTo:"密码不匹配"}},success:function(e,r){e.text("√").addClass("success")},submitHandler:function(e){alert("注册成功"),e.submit()}})}}]),r)).init()}(jQuery);